var Fe=Object.defineProperty;var oe=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var ae=(n,e,i)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,Y=(n,e)=>{for(var i in e||(e={}))Ge.call(e,i)&&ae(n,i,e[i]);if(oe)for(var i of oe(e))Re.call(e,i)&&ae(n,i,e[i]);return n};const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}};Ke();function K(){}function Je(n,e){for(const i in e)n[i]=e[i];return n}function Ve(n){return n()}function ce(){return Object.create(null)}function H(n){n.forEach(Ve)}function Ie(n){return typeof n=="function"}function M(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Qe(n){return Object.keys(n).length===0}function Xe(n,e,i,l){if(n){const t=qe(n,e,i,l);return n[0](t)}}function qe(n,e,i,l){return n[1]&&l?Je(i.ctx.slice(),n[1](l(e))):i.ctx}function Ye(n,e,i,l){if(n[2]&&l){const t=n[2](l(i));if(e.dirty===void 0)return t;if(typeof t=="object"){const s=[],r=Math.max(e.dirty.length,t.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|t[o];return s}return e.dirty|t}return e.dirty}function Ze(n,e,i,l,t,s){if(t){const r=qe(e,i,l,s);n.p(r,t)}}function et(n){if(n.ctx.length>32){const e=[],i=n.ctx.length/32;for(let l=0;l<i;l++)e[l]=-1;return e}return-1}function _(n,e){n.appendChild(e)}function w(n,e,i){n.insertBefore(e,i||null)}function v(n){n.parentNode.removeChild(n)}function O(n,e){for(let i=0;i<n.length;i+=1)n[i]&&n[i].d(e)}function b(n){return document.createElement(n)}function $(n){return document.createTextNode(n)}function A(){return $(" ")}function J(){return $("")}function Ne(n,e,i,l){return n.addEventListener(e,i,l),()=>n.removeEventListener(e,i,l)}function y(n,e,i){i==null?n.removeAttribute(e):n.getAttribute(e)!==i&&n.setAttribute(e,i)}function tt(n){return Array.from(n.childNodes)}function j(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}let ie;function C(n){ie=n}const P=[],te=[],G=[],ue=[],nt=Promise.resolve();let ne=!1;function lt(){ne||(ne=!0,nt.then(We))}function le(n){G.push(n)}const Z=new Set;let F=0;function We(){const n=ie;do{for(;F<P.length;){const e=P[F];F++,C(e),it(e.$$)}for(C(null),P.length=0,F=0;te.length;)te.pop()();for(let e=0;e<G.length;e+=1){const i=G[e];Z.has(i)||(Z.add(i),i())}G.length=0}while(P.length);for(;ue.length;)ue.pop()();ne=!1,Z.clear(),C(n)}function it(n){if(n.fragment!==null){n.update(),H(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(le)}}const R=new Set;let N;function V(){N={r:0,c:[],p:N}}function I(){N.r||H(N.c),N=N.p}function d(n,e){n&&n.i&&(R.delete(n),n.i(e))}function h(n,e,i,l){if(n&&n.o){if(R.has(n))return;R.add(n),N.c.push(()=>{R.delete(n),l&&(i&&n.d(1),l())}),n.o(e)}}function L(n){n&&n.c()}function S(n,e,i,l){const{fragment:t,on_mount:s,on_destroy:r,after_update:o}=n.$$;t&&t.m(e,i),l||le(()=>{const a=s.map(Ve).filter(Ie);r?r.push(...a):H(a),n.$$.on_mount=[]}),o.forEach(le)}function z(n,e){const i=n.$$;i.fragment!==null&&(H(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function rt(n,e){n.$$.dirty[0]===-1&&(P.push(n),lt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function B(n,e,i,l,t,s,r,o=[-1]){const a=ie;C(n);const c=n.$$={fragment:null,ctx:null,props:s,update:K,not_equal:t,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ce(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=i?i(n,e.props||{},(m,f,...p)=>{const g=p.length?p[0]:f;return c.ctx&&t(c.ctx[m],c.ctx[m]=g)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](g),u&&rt(n,m)),f}):[],c.update(),u=!0,H(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const m=tt(e.target);c.fragment&&c.fragment.l(m),m.forEach(v)}else c.fragment&&c.fragment.c();e.intro&&d(n.$$.fragment),S(n,e.target,e.anchor,e.customElement),We()}C(a)}class E{$destroy(){z(this,1),this.$destroy=K}$on(e,i){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(i),()=>{const t=l.indexOf(i);t!==-1&&l.splice(t,1)}}$set(e){this.$$set&&!Qe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function fe(n){let e,i;const l=n[5].default,t=Xe(l,n,n[4],null);return{c(){e=b("div"),t&&t.c(),y(e,"class","window-content svelte-1qojbbx")},m(s,r){w(s,e,r),t&&t.m(e,null),i=!0},p(s,r){t&&t.p&&(!i||r&16)&&Ze(t,l,s,s[4],i?Ye(l,s[4],r,null):et(s[4]),null)},i(s){i||(d(t,s),i=!0)},o(s){h(t,s),i=!1},d(s){s&&v(e),t&&t.d(s)}}}function st(n){let e,i,l,t,s,r,o,a,c,u,m,f=!n[2]&&fe(n);return{c(){e=b("div"),i=b("div"),l=b("div"),t=$(n[0]),s=A(),r=b("div"),r.innerHTML=`<span>-</span> 
            <span>x</span>`,o=A(),f&&f.c(),y(r,"class","window-icons svelte-1qojbbx"),y(i,"class","window-titlebar svelte-1qojbbx"),y(e,"class",a="window "+(n[1]?"window-grow":"")+" svelte-1qojbbx")},m(p,g){w(p,e,g),_(e,i),_(i,l),_(l,t),_(i,s),_(i,r),_(e,o),f&&f.m(e,null),c=!0,u||(m=Ne(i,"click",n[3]),u=!0)},p(p,[g]){(!c||g&1)&&j(t,p[0]),p[2]?f&&(V(),h(f,1,1,()=>{f=null}),I()):f?(f.p(p,g),g&4&&d(f,1)):(f=fe(p),f.c(),d(f,1),f.m(e,null)),(!c||g&2&&a!==(a="window "+(p[1]?"window-grow":"")+" svelte-1qojbbx"))&&y(e,"class",a)},i(p){c||(d(f),c=!0)},o(p){h(f),c=!1},d(p){p&&v(e),f&&f.d(),u=!1,m()}}}function ot(n,e,i){let{$$slots:l={},$$scope:t}=e,{title:s=""}=e,{grow:r=!1}=e,o=!1;const a=()=>{i(2,o=!o)};return n.$$set=c=>{"title"in c&&i(0,s=c.title),"grow"in c&&i(1,r=c.grow),"$$scope"in c&&i(4,t=c.$$scope)},[s,r,o,a,t,l]}class x extends E{constructor(e){super(),B(this,e,ot,st,M,{title:0,grow:1})}}const q={messages:[""],callbacks:[]};function D(n){const e=n.split(`
`);for(let i in e){const l=e[i];q.messages[q.messages.length-1]+=l,i<e.length-1&&q.messages.push("")}for(let i of q.callbacks)i(q)}function at(){return q}function ct(n){q.callbacks.push(n)}function me(n,e,i){const l=n.slice();return l[4]=e[i],l}function _e(n){let e,i=n[4]+"",l,t;return{c(){e=b("div"),l=$(i),t=A(),y(e,"class","log-message svelte-1f4e2ec")},m(s,r){w(s,e,r),_(e,l),_(e,t)},p(s,r){r&1&&i!==(i=s[4]+"")&&j(l,i)},d(s){s&&v(e)}}}function ut(n){let e,i=n[0],l=[];for(let t=0;t<i.length;t+=1)l[t]=_e(me(n,i,t));return{c(){e=b("div");for(let t=0;t<l.length;t+=1)l[t].c();y(e,"class","log-container svelte-1f4e2ec")},m(t,s){w(t,e,s);for(let r=0;r<l.length;r+=1)l[r].m(e,null);n[2](e)},p(t,s){if(s&1){i=t[0];let r;for(r=0;r<i.length;r+=1){const o=me(t,i,r);l[r]?l[r].p(o,s):(l[r]=_e(o),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=i.length}},d(t){t&&v(e),O(l,t),n[2](null)}}}function ft(n){let e,i;return e=new x({props:{grow:!0,title:"Internal Logs",$$slots:{default:[ut]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},m(l,t){S(e,l,t),i=!0},p(l,[t]){const s={};t&131&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){h(e.$$.fragment,l),i=!1},d(l){z(e,l)}}}function mt(n,e,i){let l=[""],t=null;const s=o=>{i(0,l=o.messages)};s(at()),ct(s);function r(o){te[o?"unshift":"push"](()=>{t=o,i(1,t)})}return[l,t,r]}class _t extends E{constructor(e){super(),B(this,e,mt,ft,M,{})}}function ge(n,e,i){const l=n.slice();return l[2]=e[i],l}function de(n){let e,i,l,t=n[1],s=[];for(let o=0;o<t.length;o+=1)s[o]=pe(ge(n,t,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){e=$(`>\r
        `),i=b("div");for(let o=0;o<s.length;o+=1)s[o].c();y(i,"class","topbar-subitem-children svelte-13m7anm")},m(o,a){w(o,e,a),w(o,i,a);for(let c=0;c<s.length;c+=1)s[c].m(i,null);l=!0},p(o,a){if(a&2){t=o[1];let c;for(c=0;c<t.length;c+=1){const u=ge(o,t,c);s[c]?(s[c].p(u,a),d(s[c],1)):(s[c]=pe(u),s[c].c(),d(s[c],1),s[c].m(i,null))}for(V(),c=t.length;c<s.length;c+=1)r(c);I()}},i(o){if(!l){for(let a=0;a<t.length;a+=1)d(s[a]);l=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)h(s[a]);l=!1},d(o){o&&v(e),o&&v(i),O(s,o)}}}function pe(n){let e,i;return e=new xe({props:{name:n[2].name,children:n[2].children}}),{c(){L(e.$$.fragment)},m(l,t){S(e,l,t),i=!0},p(l,t){const s={};t&2&&(s.name=l[2].name),t&2&&(s.children=l[2].children),e.$set(s)},i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){h(e.$$.fragment,l),i=!1},d(l){z(e,l)}}}function gt(n){let e,i,l,t,s=n[1].length&&de(n);return{c(){e=b("div"),i=$(n[0]),l=A(),s&&s.c(),y(e,"class","topbar-subitem svelte-13m7anm")},m(r,o){w(r,e,o),_(e,i),_(e,l),s&&s.m(e,null),t=!0},p(r,[o]){(!t||o&1)&&j(i,r[0]),r[1].length?s?(s.p(r,o),o&2&&d(s,1)):(s=de(r),s.c(),d(s,1),s.m(e,null)):s&&(V(),h(s,1,1,()=>{s=null}),I())},i(r){t||(d(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(e),s&&s.d()}}}function dt(n,e,i){let{name:l=""}=e,{children:t=[]}=e;return n.$$set=s=>{"name"in s&&i(0,l=s.name),"children"in s&&i(1,t=s.children)},[l,t]}class xe extends E{constructor(e){super(),B(this,e,dt,gt,M,{name:0,children:1})}}function he(n,e,i){const l=n.slice();return l[1]=e[i],l}function be(n,e,i){const l=n.slice();return l[4]=e[i],l}function $e(n){let e,i,l=n[1].children,t=[];for(let r=0;r<l.length;r+=1)t[r]=ve(be(n,l,r));const s=r=>h(t[r],1,1,()=>{t[r]=null});return{c(){e=b("div");for(let r=0;r<t.length;r+=1)t[r].c();y(e,"class","topbar-item-children svelte-kh5whn")},m(r,o){w(r,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null);i=!0},p(r,o){if(o&1){l=r[1].children;let a;for(a=0;a<l.length;a+=1){const c=be(r,l,a);t[a]?(t[a].p(c,o),d(t[a],1)):(t[a]=ve(c),t[a].c(),d(t[a],1),t[a].m(e,null))}for(V(),a=l.length;a<t.length;a+=1)s(a);I()}},i(r){if(!i){for(let o=0;o<l.length;o+=1)d(t[o]);i=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)h(t[o]);i=!1},d(r){r&&v(e),O(t,r)}}}function ve(n){let e,i;return e=new xe({props:{name:n[4].name,children:n[4].children}}),{c(){L(e.$$.fragment)},m(l,t){S(e,l,t),i=!0},p(l,t){const s={};t&1&&(s.name=l[4].name),t&1&&(s.children=l[4].children),e.$set(s)},i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){h(e.$$.fragment,l),i=!1},d(l){z(e,l)}}}function we(n){let e,i,l=n[1].name+"",t,s,r,o,a=n[1].children&&$e(n);return{c(){e=b("div"),i=b("div"),t=$(l),s=A(),a&&a.c(),r=A(),y(i,"class","topbar-item-name svelte-kh5whn"),y(e,"class","topbar-item svelte-kh5whn")},m(c,u){w(c,e,u),_(e,i),_(i,t),_(e,s),a&&a.m(e,null),_(e,r),o=!0},p(c,u){(!o||u&1)&&l!==(l=c[1].name+"")&&j(t,l),c[1].children?a?(a.p(c,u),u&1&&d(a,1)):(a=$e(c),a.c(),d(a,1),a.m(e,r)):a&&(V(),h(a,1,1,()=>{a=null}),I())},i(c){o||(d(a),o=!0)},o(c){h(a),o=!1},d(c){c&&v(e),a&&a.d()}}}function pt(n){let e,i,l=n[0],t=[];for(let r=0;r<l.length;r+=1)t[r]=we(he(n,l,r));const s=r=>h(t[r],1,1,()=>{t[r]=null});return{c(){e=b("div");for(let r=0;r<t.length;r+=1)t[r].c();y(e,"class","topbar svelte-kh5whn")},m(r,o){w(r,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null);i=!0},p(r,[o]){if(o&1){l=r[0];let a;for(a=0;a<l.length;a+=1){const c=he(r,l,a);t[a]?(t[a].p(c,o),d(t[a],1)):(t[a]=we(c),t[a].c(),d(t[a],1),t[a].m(e,null))}for(V(),a=l.length;a<t.length;a+=1)s(a);I()}},i(r){if(!i){for(let o=0;o<l.length;o+=1)d(t[o]);i=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)h(t[o]);i=!1},d(r){r&&v(e),O(t,r)}}}function ht(n,e,i){let{items:l=[]}=e;return n.$$set=t=>{"items"in t&&i(0,l=t.items)},[l]}class bt extends E{constructor(e){super(),B(this,e,ht,pt,M,{items:0})}}const $t=`<h1>What is decapped?</h1>
<p>Decapped is an x86 emulator capable of emulating a small part of real mode (the old 16 bit instruction set).<br>
It's still early in development but can already run a couple of instructions.</p>
<p>Our current target is getting FreeDOS to boot!</p>
`;function ye(n,e,i){const l=n.slice();return l[5]=e[i],l}function ke(n){let e,i=n[5].name+"",l,t,s,r,o;return{c(){e=b("div"),l=$(i),t=A(),y(e,"class",s="tabbar-item "+(n[1]!==null&&n[0][n[1]].name===n[5].name?"active":"")+" svelte-1ujyfaq")},m(a,c){w(a,e,c),_(e,l),_(e,t),r||(o=Ne(e,"click",function(){Ie(n[2].bind(this,n[5].name))&&n[2].bind(this,n[5].name).apply(this,arguments)}),r=!0)},p(a,c){n=a,c&1&&i!==(i=n[5].name+"")&&j(l,i),c&3&&s!==(s="tabbar-item "+(n[1]!==null&&n[0][n[1]].name===n[5].name?"active":"")+" svelte-1ujyfaq")&&y(e,"class",s)},d(a){a&&v(e),r=!1,o()}}}function Se(n){let e,i,l;var t=n[0][n[1]].component;function s(r){return{}}return t&&(e=new t(s())),{c(){e&&L(e.$$.fragment),i=J()},m(r,o){e&&S(e,r,o),w(r,i,o),l=!0},p(r,o){if(t!==(t=r[0][r[1]].component)){if(e){V();const a=e;h(a.$$.fragment,1,0,()=>{z(a,1)}),I()}t?(e=new t(s()),L(e.$$.fragment),d(e.$$.fragment,1),S(e,i.parentNode,i)):e=null}},i(r){l||(e&&d(e.$$.fragment,r),l=!0)},o(r){e&&h(e.$$.fragment,r),l=!1},d(r){r&&v(i),e&&z(e,r)}}}function vt(n){let e,i,l,t,s=n[0],r=[];for(let a=0;a<s.length;a+=1)r[a]=ke(ye(n,s,a));let o=n[1]!==null&&Se(n);return{c(){e=b("div"),i=b("div");for(let a=0;a<r.length;a+=1)r[a].c();l=A(),o&&o.c(),y(i,"class","tabbar-items svelte-1ujyfaq"),y(e,"class","tabbar svelte-1ujyfaq")},m(a,c){w(a,e,c),_(e,i);for(let u=0;u<r.length;u+=1)r[u].m(i,null);_(e,l),o&&o.m(e,null),t=!0},p(a,[c]){if(c&7){s=a[0];let u;for(u=0;u<s.length;u+=1){const m=ye(a,s,u);r[u]?r[u].p(m,c):(r[u]=ke(m),r[u].c(),r[u].m(i,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}a[1]!==null?o?(o.p(a,c),c&2&&d(o,1)):(o=Se(a),o.c(),d(o,1),o.m(e,null)):o&&(V(),h(o,1,1,()=>{o=null}),I())},i(a){t||(d(o),t=!0)},o(a){h(o),t=!1},d(a){a&&v(e),O(r,a),o&&o.d()}}}function wt(n,e,i){let{content:l=[]}=e,{defaultTab:t=""}=e,s=null;if(t!==""){for(let a in l)if(l[a].name===t){s=a;break}s===null&&(t="")}const r=a=>s!==null&&l[s].name===a,o=a=>{if(console.log(a),r(a))i(1,s=null);else for(let c in l)if(l[c].name===a){i(1,s=c);break}console.log(s,a)};return n.$$set=a=>{"content"in a&&i(0,l=a.content),"defaultTab"in a&&i(3,t=a.defaultTab)},[l,s,o,t]}class yt extends E{constructor(e){super(),B(this,e,wt,vt,M,{content:0,defaultTab:3})}}const T={memory:null,runtime_imports:{},runtime_instance:null,interpreter:null};async function ze(n){const e=await fetch(n),i=kt(await e.arrayBuffer(),1,2);return await WebAssembly.compile(i)}function kt(n,e=1,i=1){const l=(u,m)=>{let f=0,p=0,g=0;for(;;){const k=u.getUint8(m+g);if(f|=(k&127)<<p,(k&47513075712)===0)break;p+=7,g++}return f},t=n.slice(0,n.byteLength),s=new DataView(t);if(s.getUint32(0)!==6386541)return t;const o=4+4,a=l(s,o+1),c=o+a+2;return l(s,c+2),t}function W(n,e=8){return T.memory.buffer.slice(n,n+e)}function St(n){let e="",i=0,l=!1;for(;!l;){const t=new Uint8Array(W(n+i));i+=t.byteLength;for(let s=0;s<t.byteLength;s++){if(t[s]===0){l=!0;break}e+=String.fromCharCode(t[s])}}return e}function zt(n,e,i){const l=new DataView(W(n,i));for(let t=0;t<i;t++)l.setUint8(t,e);return n}function Pe(n){D(`runtime: ${St(n)}`)}function Lt(n,e){e!==0&&(Pe(e),D("")),D(`${n.toString(16)}
`)}function Tt(){const n=T.runtime_instance.exports.malloc_get_dynamic_base(),e=new DataView(W(n,32));return{pages_max:e.getUint32(0,!0),pages_used:e.getUint32(4,!0),bitmap_base:e.getUint32(8,!0),size_base:e.getUint32(12,!0),current_index:e.getUint32(16,!0),dynamic_base:e.getUint32(20,!0),type_base:e.getUint32(24,!0)}}function Ce(){return T}async function At(){T.runtime_imports.memset=zt,T.runtime_imports.log_string=Pe,T.runtime_imports.log_hex=Lt;const n=T.runtime_imports;T.memory=new WebAssembly.Memory({initial:10,maximum:10,shared:!0}),D(`allocated memory pool, size: 0x${T.memory.buffer.byteLength.toString(16)}
`);const e=await ze("wasm/runtime.wasm");T.runtime_instance=new WebAssembly.Instance(e,{env:Y({memory:T.memory},n)});const i=await ze("wasm/interpreter.wasm");T.interpreter=new WebAssembly.Instance(i,{env:Y({memory:T.memory},n)}),D(`calling runtime_init
`);const l=T.runtime_instance.exports.runtime_init(),t=T.runtime_instance.exports.malloc_get_dynamic_base();D(`malloc start: ${t.toString(16)}
`),D(`runtime_init finished, result: 0x${l.toString(16)}
`),D(`calling interpreter_init
`);const s=T.interpreter.exports.interpreter_init();D(`interpreter_init finished, result: 0x${s.toString(16)}
`)}function Le(n,e,i){const l=n.slice();return l[8]=e[i],l}function Te(n,e,i){const l=n.slice();return l[11]=e[i],l}function Ae(n){let e,i=n[11].name+"",l,t,s=n[11].value+"",r;return{c(){e=b("div"),l=$(i),t=$(": "),r=$(s),y(e,"class","allocator-info-entry")},m(o,a){w(o,e,a),_(e,l),_(e,t),_(e,r)},p(o,a){a&1&&i!==(i=o[11].name+"")&&j(l,i),a&1&&s!==(s=o[11].value+"")&&j(r,s)},d(o){o&&v(e)}}}function je(n){let e,i,l=n[2][n[1][n[8]].type]+"",t,s,r=parseInt(n[8]).toString(16)+"",o,a,c=n[1][n[8]].size.toString(16)+"",u,m,f=n[1][n[8]].at+"",p;return{c(){e=b("pre"),i=$("["),t=$(l),s=$("]	0x"),o=$(r),a=$("	 - 0x"),u=$(c),m=$("	@ "),p=$(f)},m(g,k){w(g,e,k),_(e,i),_(e,t),_(e,s),_(e,o),_(e,a),_(e,u),_(e,m),_(e,p)},p(g,k){k&2&&l!==(l=g[2][g[1][g[8]].type]+"")&&j(t,l),k&2&&r!==(r=parseInt(g[8]).toString(16)+"")&&j(o,r),k&2&&c!==(c=g[1][g[8]].size.toString(16)+"")&&j(u,c),k&2&&f!==(f=g[1][g[8]].at+"")&&j(p,f)},d(g){g&&v(e)}}}function jt(n){let e,i=Object.keys(n[1]),l=[];for(let t=0;t<i.length;t+=1)l[t]=je(Le(n,i,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=J()},m(t,s){for(let r=0;r<l.length;r+=1)l[r].m(t,s);w(t,e,s)},p(t,s){if(s&6){i=Object.keys(t[1]);let r;for(r=0;r<i.length;r+=1){const o=Le(t,i,r);l[r]?l[r].p(o,s):(l[r]=je(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=i.length}},d(t){O(l,t),t&&v(e)}}}function Ut(n){let e,i,l,t,s=n[0],r=[];for(let o=0;o<s.length;o+=1)r[o]=Ae(Te(n,s,o));return l=new x({props:{title:"Allocations",$$slots:{default:[jt]},$$scope:{ctx:n}}}),{c(){e=b("div");for(let o=0;o<r.length;o+=1)r[o].c();i=A(),L(l.$$.fragment)},m(o,a){w(o,e,a);for(let c=0;c<r.length;c+=1)r[c].m(e,null);_(e,i),S(l,e,null),t=!0},p(o,[a]){if(a&1){s=o[0];let u;for(u=0;u<s.length;u+=1){const m=Te(o,s,u);r[u]?r[u].p(m,a):(r[u]=Ae(m),r[u].c(),r[u].m(e,i))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}const c={};a&16386&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){t||(d(l.$$.fragment,o),t=!0)},o(o){h(l.$$.fragment,o),t=!1},d(o){o&&v(e),O(r,o),z(l)}}}function Dt(n,e,i){let l=[{name:"Loading",value:"..."}],t={};const s={pages_max:"Max pages",pages_used:"Pages used",bitmap_base:"Bitmap",size_base:"Size Array",current_index:"Head",dynamic_base:"Dynamic Base",type_base:"Type Base"},r=u=>u.toString(16),o={pages_max:r,pages_used:r,bitmap_base:r,size_base:r,type_base:r,dynamic_base:r,current_index:r},a=["generic","runtime","page table","guest memory"],c=u=>{const m={},f=u.pages_max/8,p=new DataView(W(u.bitmap_base,f)),g=new DataView(W(u.size_base,u.pages_max*4)),k=new DataView(W(u.type_base,u.pages_max));let U=0;for(;U<u.pages_max&&U<256;)if(p.getUint8(Math.floor(U/8))&1<<U%8){const Q=u.dynamic_base+U*4096,He=t.hasOwnProperty(Q)?t[Q].at:Math.floor(new Date().getTime()/1e3),X=g.getUint32(U*4,!0),se=k.getUint8(U);console.log(se,k,g,U,u.type_base),m[Q]={at:He,size:X,type:se},U+=X>0?X:1}else U++;i(1,t=m)};return setInterval(()=>{const u=[],m=Tt();for(let f in m){const p=s[f];u.push({name:p,value:o[f](m[f])})}i(0,l=u),c(m)},500),[l,t,a]}class Mt extends E{constructor(e){super(),B(this,e,Dt,Ut,M,{})}}function Ue(n,e,i){const l=n.slice();return l[4]=e[i],l}function De(n){let e,i=n[2](n[4])+"",l,t,s=n[4].child.toString(16)+"",r,o;return{c(){e=b("div"),l=$(i),t=$(" - "),r=$(s),o=A()},m(a,c){w(a,e,c),_(e,l),_(e,t),_(e,r),_(e,o)},p(a,c){c&2&&i!==(i=a[2](a[4])+"")&&j(l,i),c&2&&s!==(s=a[4].child.toString(16)+"")&&j(r,s)},d(a){a&&v(e)}}}function Bt(n){let e,i=n[1],l=[];for(let t=0;t<i.length;t+=1)l[t]=De(Ue(n,i,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=J()},m(t,s){for(let r=0;r<l.length;r+=1)l[r].m(t,s);w(t,e,s)},p(t,s){if(s&6){i=t[1];let r;for(r=0;r<i.length;r+=1){const o=Ue(t,i,r);l[r]?l[r].p(o,s):(l[r]=De(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=i.length}},d(t){O(l,t),t&&v(e)}}}function Et(n){let e,i;return e=new x({props:{title:n[0],$$slots:{default:[Bt]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},m(l,t){S(e,l,t),i=!0},p(l,[t]){const s={};t&1&&(s.title=l[0]),t&130&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){h(e.$$.fragment,l),i=!1},d(l){z(e,l)}}}function Ot(n,e,i){let{name:l=""}=e,{parents:t=[]}=e,{table:s=[]}=e;const r=o=>{const a=[o.index];let c=0;for(;o.parent!==null&&c<t.length;)o=t[c][o.parent],a.push(o.index),c++;return a.map(u=>u.toString(16)).join(" ")};return n.$$set=o=>{"name"in o&&i(0,l=o.name),"parents"in o&&i(3,t=o.parents),"table"in o&&i(1,s=o.table)},[l,s,r,t]}class ee extends E{constructor(e){super(),B(this,e,Ot,Et,M,{name:0,parents:3,table:1})}}function Me(n,e,i){const l=n.slice();return l[6]=e[i],l}function Be(n){let e,i=n[1](n[6]).toString(16)+"",l,t,s=n[6].child.toString(16)+"",r;return{c(){e=b("div"),l=$(i),t=$(" > "),r=$(s)},m(o,a){w(o,e,a),_(e,l),_(e,t),_(e,r)},p(o,a){a&1&&i!==(i=o[1](o[6]).toString(16)+"")&&j(l,i),a&1&&s!==(s=o[6].child.toString(16)+"")&&j(r,s)},d(o){o&&v(e)}}}function Vt(n){let e,i=n[0].p2,l=[];for(let t=0;t<i.length;t+=1)l[t]=Be(Me(n,i,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=J()},m(t,s){for(let r=0;r<l.length;r+=1)l[r].m(t,s);w(t,e,s)},p(t,s){if(s&3){i=t[0].p2;let r;for(r=0;r<i.length;r+=1){const o=Me(t,i,r);l[r]?l[r].p(o,s):(l[r]=Be(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=i.length}},d(t){O(l,t),t&&v(e)}}}function It(n){let e,i,l,t,s,r,o,a,c;return i=new ee({props:{name:"Level 0",table:n[0].p0}}),t=new ee({props:{name:"Level 1",table:n[0].p1,parents:[n[0].p0]}}),r=new ee({props:{name:"Level 2",table:n[0].p2,parents:[n[0].p1,n[0].p0]}}),a=new x({props:{title:"Address Space",$$slots:{default:[Vt]},$$scope:{ctx:n}}}),{c(){e=b("div"),L(i.$$.fragment),l=A(),L(t.$$.fragment),s=A(),L(r.$$.fragment),o=A(),L(a.$$.fragment)},m(u,m){w(u,e,m),S(i,e,null),_(e,l),S(t,e,null),_(e,s),S(r,e,null),_(e,o),S(a,e,null),c=!0},p(u,[m]){const f={};m&1&&(f.table=u[0].p0),i.$set(f);const p={};m&1&&(p.table=u[0].p1),m&1&&(p.parents=[u[0].p0]),t.$set(p);const g={};m&1&&(g.table=u[0].p2),m&1&&(g.parents=[u[0].p1,u[0].p0]),r.$set(g);const k={};m&513&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(d(i.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(a.$$.fragment,u),c=!0)},o(u){h(i.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&v(e),z(i),z(t),z(r),z(a)}}}const Ee=4;function qt(n,e,i){let l={p0:[],p1:[],p2:[]},t=l;const s=["p0","p1","p2"],r=(c,u,m,f=null)=>{const p=new DataView(W(c,u*Ee));for(let g=0;g<u;g++){const k=p.getUint32(g*Ee,!0);if(k===0)continue;const U={index:g,child:k,parent:f},re=t[s[m]].push(U)-1;m<2&&r(k,512,m+1,re)}},o=c=>{const u=c.index,m=l.p1[c.parent],f=m.index;return(l.p0[m.parent].index<<30)+(f<<21)+(u<<12)>>>0},a=Ce();return setInterval(()=>{t={p0:[],p1:[],p2:[]},r(a.runtime_instance.exports.guest_memory_get_p0(),4,0),i(0,l=t)},500),[l,o]}class Nt extends E{constructor(e){super(),B(this,e,qt,It,M,{})}}function Wt(n){let e,i;return e=new yt({props:{content:n[0],defaultTab:"Allocator"}}),{c(){L(e.$$.fragment)},m(l,t){S(e,l,t),i=!0},p:K,i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){h(e.$$.fragment,l),i=!1},d(l){z(e,l)}}}function xt(n){let e,i;return e=new x({props:{title:"Debugger",$$slots:{default:[Wt]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},m(l,t){S(e,l,t),i=!0},p(l,[t]){const s={};t&2&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){h(e.$$.fragment,l),i=!1},d(l){z(e,l)}}}function Pt(n){return[[{name:"Allocator",component:Mt},{name:"Guest Memory",component:Nt},{name:"Registers",component:null}]]}class Ct extends E{constructor(e){super(),B(this,e,Pt,xt,M,{})}}function Ht(n){let e;return{c(){e=b("div"),y(e,"class","markdown")},m(i,l){w(i,e,l),e.innerHTML=$t},p:K,d(i){i&&v(e)}}}function Ft(n){let e,i,l,t,s,r,o,a,c,u,m;return i=new bt({props:{items:n[0]}}),s=new x({props:{title:"README",$$slots:{default:[Ht]},$$scope:{ctx:n}}}),o=new _t({}),u=new Ct({}),{c(){e=b("div"),L(i.$$.fragment),l=A(),t=b("div"),L(s.$$.fragment),r=A(),L(o.$$.fragment),a=A(),c=b("div"),L(u.$$.fragment),y(c,"class","instructions-container svelte-1p7s32z"),y(t,"class","content svelte-1p7s32z"),y(e,"class","container svelte-1p7s32z")},m(f,p){w(f,e,p),S(i,e,null),_(e,l),_(e,t),S(s,t,null),_(t,r),S(o,t,null),_(t,a),_(t,c),S(u,c,null),m=!0},p(f,[p]){const g={};p&2&&(g.$$scope={dirty:p,ctx:f}),s.$set(g)},i(f){m||(d(i.$$.fragment,f),d(s.$$.fragment,f),d(o.$$.fragment,f),d(u.$$.fragment,f),m=!0)},o(f){h(i.$$.fragment,f),h(s.$$.fragment,f),h(o.$$.fragment,f),h(u.$$.fragment,f),m=!1},d(f){f&&v(e),z(i),z(s),z(o),z(u)}}}function Gt(n){return[[{name:"Hello",children:[{name:"World",children:[{name:"Test",children:[{name:"Test 2"},{name:"Test 3"}]}]}]},{name:"World"}]]}class Rt extends E{constructor(e){super(),B(this,e,Gt,Ft,M,{})}}const Oe=async(n,e)=>{D(`${e}...
`),await n,D(`${e} done
`)},Kt=async()=>{new Rt({target:document.body})},Jt=async()=>{await Oe(Kt(),"initializing frontend"),await Oe(At(),"initializing runtime & backend");const n=Ce();n.runtime_instance.exports.__imp_malloc,n.runtime_instance.exports.__imp_free};window.addEventListener("load",Jt);
