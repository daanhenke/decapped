var Xe=Object.defineProperty;var ce=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var ue=(l,e,i)=>e in l?Xe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,te=(l,e)=>{for(var i in e||(e={}))Ye.call(e,i)&&ue(l,i,e[i]);if(ce)for(var i of ce(e))Ze.call(e,i)&&ue(l,i,e[i]);return l};const et=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}};et();function W(){}function tt(l,e){for(const i in e)l[i]=e[i];return l}function Pe(l){return l()}function fe(){return Object.create(null)}function K(l){l.forEach(Pe)}function We(l){return typeof l=="function"}function D(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function nt(l){return Object.keys(l).length===0}function lt(l,e,i,t){if(l){const n=xe(l,e,i,t);return l[0](n)}}function xe(l,e,i,t){return l[1]&&t?tt(i.ctx.slice(),l[1](t(e))):i.ctx}function it(l,e,i,t){if(l[2]&&t){const n=l[2](t(i));if(e.dirty===void 0)return n;if(typeof n=="object"){const s=[],r=Math.max(e.dirty.length,n.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|n[o];return s}return e.dirty|n}return e.dirty}function rt(l,e,i,t,n,s){if(n){const r=xe(e,i,t,s);l.p(r,n)}}function st(l){if(l.ctx.length>32){const e=[],i=l.ctx.length/32;for(let t=0;t<i;t++)e[t]=-1;return e}return-1}function m(l,e){l.appendChild(e)}function v(l,e,i){l.insertBefore(e,i||null)}function w(l){l.parentNode.removeChild(l)}function I(l,e){for(let i=0;i<l.length;i+=1)l[i]&&l[i].d(e)}function $(l){return document.createElement(l)}function b(l){return document.createTextNode(l)}function j(){return b(" ")}function R(){return b("")}function He(l,e,i,t){return l.addEventListener(e,i,t),()=>l.removeEventListener(e,i,t)}function k(l,e,i){i==null?l.removeAttribute(e):l.getAttribute(e)!==i&&l.setAttribute(e,i)}function ot(l){return Array.from(l.childNodes)}function T(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}let oe;function G(l){oe=l}const F=[],ie=[],Y=[],_e=[],at=Promise.resolve();let re=!1;function ct(){re||(re=!0,at.then(Fe))}function se(l){Y.push(l)}const ne=new Set;let X=0;function Fe(){const l=oe;do{for(;X<F.length;){const e=F[X];X++,G(e),ut(e.$$)}for(G(null),F.length=0,X=0;ie.length;)ie.pop()();for(let e=0;e<Y.length;e+=1){const i=Y[e];ne.has(i)||(ne.add(i),i())}Y.length=0}while(F.length);for(;_e.length;)_e.pop()();re=!1,ne.clear(),G(l)}function ut(l){if(l.fragment!==null){l.update(),K(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(se)}}const Z=new Set;let C;function O(){C={r:0,c:[],p:C}}function N(){C.r||K(C.c),C=C.p}function d(l,e){l&&l.i&&(Z.delete(l),l.i(e))}function h(l,e,i,t){if(l&&l.o){if(Z.has(l))return;Z.add(l),C.c.push(()=>{Z.delete(l),t&&(i&&l.d(1),t())}),l.o(e)}}function U(l){l&&l.c()}function S(l,e,i,t){const{fragment:n,on_mount:s,on_destroy:r,after_update:o}=l.$$;n&&n.m(e,i),t||se(()=>{const a=s.map(Pe).filter(We);r?r.push(...a):K(a),l.$$.on_mount=[]}),o.forEach(se)}function z(l,e){const i=l.$$;i.fragment!==null&&(K(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function ft(l,e){l.$$.dirty[0]===-1&&(F.push(l),ct(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function V(l,e,i,t,n,s,r,o=[-1]){const a=oe;G(l);const c=l.$$={fragment:null,ctx:null,props:s,update:W,not_equal:n,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:fe(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=i?i(l,e.props||{},(_,f,...p)=>{const g=p.length?p[0]:f;return c.ctx&&n(c.ctx[_],c.ctx[_]=g)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](g),u&&ft(l,_)),f}):[],c.update(),u=!0,K(c.before_update),c.fragment=t?t(c.ctx):!1,e.target){if(e.hydrate){const _=ot(e.target);c.fragment&&c.fragment.l(_),_.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&d(l.$$.fragment),S(l,e.target,e.anchor,e.customElement),Fe()}G(a)}class B{$destroy(){z(this,1),this.$destroy=W}$on(e,i){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(i),()=>{const n=t.indexOf(i);n!==-1&&t.splice(n,1)}}$set(e){this.$$set&&!nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function me(l){let e,i;const t=l[5].default,n=lt(t,l,l[4],null);return{c(){e=$("div"),n&&n.c(),k(e,"class","window-content svelte-1qojbbx")},m(s,r){v(s,e,r),n&&n.m(e,null),i=!0},p(s,r){n&&n.p&&(!i||r&16)&&rt(n,t,s,s[4],i?it(t,s[4],r,null):st(s[4]),null)},i(s){i||(d(n,s),i=!0)},o(s){h(n,s),i=!1},d(s){s&&w(e),n&&n.d(s)}}}function _t(l){let e,i,t,n,s,r,o,a,c,u,_,f=!l[2]&&me(l);return{c(){e=$("div"),i=$("div"),t=$("div"),n=b(l[0]),s=j(),r=$("div"),r.innerHTML=`<span>-</span> 
            <span>x</span>`,o=j(),f&&f.c(),k(r,"class","window-icons svelte-1qojbbx"),k(i,"class","window-titlebar svelte-1qojbbx"),k(e,"class",a="window "+(l[1]?"window-grow":"")+" svelte-1qojbbx")},m(p,g){v(p,e,g),m(e,i),m(i,t),m(t,n),m(i,s),m(i,r),m(e,o),f&&f.m(e,null),c=!0,u||(_=He(i,"click",l[3]),u=!0)},p(p,[g]){(!c||g&1)&&T(n,p[0]),p[2]?f&&(O(),h(f,1,1,()=>{f=null}),N()):f?(f.p(p,g),g&4&&d(f,1)):(f=me(p),f.c(),d(f,1),f.m(e,null)),(!c||g&2&&a!==(a="window "+(p[1]?"window-grow":"")+" svelte-1qojbbx"))&&k(e,"class",a)},i(p){c||(d(f),c=!0)},o(p){h(f),c=!1},d(p){p&&w(e),f&&f.d(),u=!1,_()}}}function mt(l,e,i){let{$$slots:t={},$$scope:n}=e,{title:s=""}=e,{grow:r=!1}=e,o=!1;const a=()=>{i(2,o=!o)};return l.$$set=c=>{"title"in c&&i(0,s=c.title),"grow"in c&&i(1,r=c.grow),"$$scope"in c&&i(4,n=c.$$scope)},[s,r,o,a,n,t]}class x extends B{constructor(e){super(),V(this,e,mt,_t,D,{title:0,grow:1})}}const q={messages:[""],callbacks:[]};function M(l){const e=l.split(`
`);for(let i in e){const t=e[i];q.messages[q.messages.length-1]+=t,i<e.length-1&&q.messages.push("")}for(let i of q.callbacks)i(q)}function gt(){return q}function dt(l){q.callbacks.push(l)}function ge(l,e,i){const t=l.slice();return t[4]=e[i],t}function de(l){let e,i=l[4]+"",t,n;return{c(){e=$("div"),t=b(i),n=j(),k(e,"class","log-message svelte-1f4e2ec")},m(s,r){v(s,e,r),m(e,t),m(e,n)},p(s,r){r&1&&i!==(i=s[4]+"")&&T(t,i)},d(s){s&&w(e)}}}function pt(l){let e,i=l[0],t=[];for(let n=0;n<i.length;n+=1)t[n]=de(ge(l,i,n));return{c(){e=$("div");for(let n=0;n<t.length;n+=1)t[n].c();k(e,"class","log-container svelte-1f4e2ec")},m(n,s){v(n,e,s);for(let r=0;r<t.length;r+=1)t[r].m(e,null);l[2](e)},p(n,s){if(s&1){i=n[0];let r;for(r=0;r<i.length;r+=1){const o=ge(n,i,r);t[r]?t[r].p(o,s):(t[r]=de(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=i.length}},d(n){n&&w(e),I(t,n),l[2](null)}}}function ht(l){let e,i;return e=new x({props:{grow:!0,title:"Internal Logs",$$slots:{default:[pt]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment)},m(t,n){S(e,t,n),i=!0},p(t,[n]){const s={};n&131&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){i||(d(e.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),i=!1},d(t){z(e,t)}}}function bt(l,e,i){let t=[""],n=null;const s=o=>{i(0,t=o.messages)};s(gt()),dt(s);function r(o){ie[o?"unshift":"push"](()=>{n=o,i(1,n)})}return[t,n,r]}class $t extends B{constructor(e){super(),V(this,e,bt,ht,D,{})}}function pe(l,e,i){const t=l.slice();return t[2]=e[i],t}function he(l){let e,i,t,n=l[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=be(pe(l,n,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){e=b(`>\r
        `),i=$("div");for(let o=0;o<s.length;o+=1)s[o].c();k(i,"class","topbar-subitem-children svelte-13m7anm")},m(o,a){v(o,e,a),v(o,i,a);for(let c=0;c<s.length;c+=1)s[c].m(i,null);t=!0},p(o,a){if(a&2){n=o[1];let c;for(c=0;c<n.length;c+=1){const u=pe(o,n,c);s[c]?(s[c].p(u,a),d(s[c],1)):(s[c]=be(u),s[c].c(),d(s[c],1),s[c].m(i,null))}for(O(),c=n.length;c<s.length;c+=1)r(c);N()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)d(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)h(s[a]);t=!1},d(o){o&&w(e),o&&w(i),I(s,o)}}}function be(l){let e,i;return e=new Ge({props:{name:l[2].name,children:l[2].children}}),{c(){U(e.$$.fragment)},m(t,n){S(e,t,n),i=!0},p(t,n){const s={};n&2&&(s.name=t[2].name),n&2&&(s.children=t[2].children),e.$set(s)},i(t){i||(d(e.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),i=!1},d(t){z(e,t)}}}function wt(l){let e,i,t,n,s=l[1].length&&he(l);return{c(){e=$("div"),i=b(l[0]),t=j(),s&&s.c(),k(e,"class","topbar-subitem svelte-13m7anm")},m(r,o){v(r,e,o),m(e,i),m(e,t),s&&s.m(e,null),n=!0},p(r,[o]){(!n||o&1)&&T(i,r[0]),r[1].length?s?(s.p(r,o),o&2&&d(s,1)):(s=he(r),s.c(),d(s,1),s.m(e,null)):s&&(O(),h(s,1,1,()=>{s=null}),N())},i(r){n||(d(s),n=!0)},o(r){h(s),n=!1},d(r){r&&w(e),s&&s.d()}}}function vt(l,e,i){let{name:t=""}=e,{children:n=[]}=e;return l.$$set=s=>{"name"in s&&i(0,t=s.name),"children"in s&&i(1,n=s.children)},[t,n]}class Ge extends B{constructor(e){super(),V(this,e,vt,wt,D,{name:0,children:1})}}function $e(l,e,i){const t=l.slice();return t[1]=e[i],t}function we(l,e,i){const t=l.slice();return t[4]=e[i],t}function ve(l){let e,i,t=l[1].children,n=[];for(let r=0;r<t.length;r+=1)n[r]=ye(we(l,t,r));const s=r=>h(n[r],1,1,()=>{n[r]=null});return{c(){e=$("div");for(let r=0;r<n.length;r+=1)n[r].c();k(e,"class","topbar-item-children svelte-kh5whn")},m(r,o){v(r,e,o);for(let a=0;a<n.length;a+=1)n[a].m(e,null);i=!0},p(r,o){if(o&1){t=r[1].children;let a;for(a=0;a<t.length;a+=1){const c=we(r,t,a);n[a]?(n[a].p(c,o),d(n[a],1)):(n[a]=ye(c),n[a].c(),d(n[a],1),n[a].m(e,null))}for(O(),a=t.length;a<n.length;a+=1)s(a);N()}},i(r){if(!i){for(let o=0;o<t.length;o+=1)d(n[o]);i=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)h(n[o]);i=!1},d(r){r&&w(e),I(n,r)}}}function ye(l){let e,i;return e=new Ge({props:{name:l[4].name,children:l[4].children}}),{c(){U(e.$$.fragment)},m(t,n){S(e,t,n),i=!0},p(t,n){const s={};n&1&&(s.name=t[4].name),n&1&&(s.children=t[4].children),e.$set(s)},i(t){i||(d(e.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),i=!1},d(t){z(e,t)}}}function ke(l){let e,i,t=l[1].name+"",n,s,r,o,a=l[1].children&&ve(l);return{c(){e=$("div"),i=$("div"),n=b(t),s=j(),a&&a.c(),r=j(),k(i,"class","topbar-item-name svelte-kh5whn"),k(e,"class","topbar-item svelte-kh5whn")},m(c,u){v(c,e,u),m(e,i),m(i,n),m(e,s),a&&a.m(e,null),m(e,r),o=!0},p(c,u){(!o||u&1)&&t!==(t=c[1].name+"")&&T(n,t),c[1].children?a?(a.p(c,u),u&1&&d(a,1)):(a=ve(c),a.c(),d(a,1),a.m(e,r)):a&&(O(),h(a,1,1,()=>{a=null}),N())},i(c){o||(d(a),o=!0)},o(c){h(a),o=!1},d(c){c&&w(e),a&&a.d()}}}function yt(l){let e,i,t=l[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=ke($e(l,t,r));const s=r=>h(n[r],1,1,()=>{n[r]=null});return{c(){e=$("div");for(let r=0;r<n.length;r+=1)n[r].c();k(e,"class","topbar svelte-kh5whn")},m(r,o){v(r,e,o);for(let a=0;a<n.length;a+=1)n[a].m(e,null);i=!0},p(r,[o]){if(o&1){t=r[0];let a;for(a=0;a<t.length;a+=1){const c=$e(r,t,a);n[a]?(n[a].p(c,o),d(n[a],1)):(n[a]=ke(c),n[a].c(),d(n[a],1),n[a].m(e,null))}for(O(),a=t.length;a<n.length;a+=1)s(a);N()}},i(r){if(!i){for(let o=0;o<t.length;o+=1)d(n[o]);i=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)h(n[o]);i=!1},d(r){r&&w(e),I(n,r)}}}function kt(l,e,i){let{items:t=[]}=e;return l.$$set=n=>{"items"in n&&i(0,t=n.items)},[t]}class St extends B{constructor(e){super(),V(this,e,kt,yt,D,{items:0})}}const zt=`<h1>What is decapped?</h1>
<p>Decapped is an x86 emulator capable of emulating a small part of real mode (the old 16 bit instruction set).<br>
It's still early in development but can already run a couple of instructions.</p>
<p>Our current target is getting FreeDOS to boot!</p>
`;function Se(l,e,i){const t=l.slice();return t[5]=e[i],t}function ze(l){let e,i=l[5].name+"",t,n,s,r,o;return{c(){e=$("div"),t=b(i),n=j(),k(e,"class",s="tabbar-item "+(l[1]!==null&&l[0][l[1]].name===l[5].name?"active":"")+" svelte-1ujyfaq")},m(a,c){v(a,e,c),m(e,t),m(e,n),r||(o=He(e,"click",function(){We(l[2].bind(this,l[5].name))&&l[2].bind(this,l[5].name).apply(this,arguments)}),r=!0)},p(a,c){l=a,c&1&&i!==(i=l[5].name+"")&&T(t,i),c&3&&s!==(s="tabbar-item "+(l[1]!==null&&l[0][l[1]].name===l[5].name?"active":"")+" svelte-1ujyfaq")&&k(e,"class",s)},d(a){a&&w(e),r=!1,o()}}}function Te(l){let e,i,t;var n=l[0][l[1]].component;function s(r){return{props:{data:r[0][r[1]].data}}}return n&&(e=new n(s(l))),{c(){e&&U(e.$$.fragment),i=R()},m(r,o){e&&S(e,r,o),v(r,i,o),t=!0},p(r,o){const a={};if(o&3&&(a.data=r[0][r[1]].data),n!==(n=r[0][r[1]].component)){if(e){O();const c=e;h(c.$$.fragment,1,0,()=>{z(c,1)}),N()}n?(e=new n(s(r)),U(e.$$.fragment),d(e.$$.fragment,1),S(e,i.parentNode,i)):e=null}else n&&e.$set(a)},i(r){t||(e&&d(e.$$.fragment,r),t=!0)},o(r){e&&h(e.$$.fragment,r),t=!1},d(r){r&&w(i),e&&z(e,r)}}}function Tt(l){let e,i,t,n,s=l[0],r=[];for(let a=0;a<s.length;a+=1)r[a]=ze(Se(l,s,a));let o=l[1]!==null&&Te(l);return{c(){e=$("div"),i=$("div");for(let a=0;a<r.length;a+=1)r[a].c();t=j(),o&&o.c(),k(i,"class","tabbar-items svelte-1ujyfaq"),k(e,"class","tabbar svelte-1ujyfaq")},m(a,c){v(a,e,c),m(e,i);for(let u=0;u<r.length;u+=1)r[u].m(i,null);m(e,t),o&&o.m(e,null),n=!0},p(a,[c]){if(c&7){s=a[0];let u;for(u=0;u<s.length;u+=1){const _=Se(a,s,u);r[u]?r[u].p(_,c):(r[u]=ze(_),r[u].c(),r[u].m(i,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}a[1]!==null?o?(o.p(a,c),c&2&&d(o,1)):(o=Te(a),o.c(),d(o,1),o.m(e,null)):o&&(O(),h(o,1,1,()=>{o=null}),N())},i(a){n||(d(o),n=!0)},o(a){h(o),n=!1},d(a){a&&w(e),I(r,a),o&&o.d()}}}function Ut(l,e,i){let{content:t=[]}=e,{defaultTab:n=""}=e,s=null;if(n!==""){for(let a in t)if(t[a].name===n){s=a;break}s===null&&(n="")}const r=a=>s!==null&&t[s].name===a,o=a=>{if(r(a))i(1,s=null);else for(let c in t)if(t[c].name===a){i(1,s=c);break}};return l.$$set=a=>{"content"in a&&i(0,t=a.content),"defaultTab"in a&&i(3,n=a.defaultTab)},[t,s,o,n]}class Ke extends B{constructor(e){super(),V(this,e,Ut,Tt,D,{content:0,defaultTab:3})}}const L={memory:null,runtime_imports:{},runtime_instance:null,interpreter:null};async function Ue(l){const e=await fetch(l),i=Lt(await e.arrayBuffer(),1,2);return await WebAssembly.compile(i)}function Lt(l,e=1,i=1){const t=(u,_)=>{let f=0,p=0,g=0;for(;;){const y=u.getUint8(_+g);if(f|=(y&127)<<p,(y&47513075712)===0)break;p+=7,g++}return f},n=l.slice(0,l.byteLength),s=new DataView(n);if(s.getUint32(0)!==6386541)return n;const o=4+4,a=t(s,o+1),c=o+a+2;return t(s,c+2),n}function E(l,e=8){return L.memory.buffer.slice(l,l+e)}function jt(l){let e="",i=0,t=!1;for(;!t;){const n=new Uint8Array(E(l+i));i+=n.byteLength;for(let s=0;s<n.byteLength;s++){if(n[s]===0){t=!0;break}e+=String.fromCharCode(n[s])}}return e}function At(l,e,i){const t=new DataView(E(l,i));for(let n=0;n<i;n++)t.setUint8(n,e);return l}function Re(l){M(`runtime: ${jt(l)}`)}function Dt(l,e){e!==0&&(Re(e),M("")),M(`${l.toString(16)}
`)}function Vt(){const l=L.runtime_instance.exports.malloc_get_dynamic_base(),e=new DataView(E(l,32));return{pages_max:e.getUint32(0,!0),pages_used:e.getUint32(4,!0),bitmap_base:e.getUint32(8,!0),size_base:e.getUint32(12,!0),current_index:e.getUint32(16,!0),dynamic_base:e.getUint32(20,!0),type_base:e.getUint32(24,!0)}}function ae(){return L}async function Bt(){L.runtime_imports.memset=At,L.runtime_imports.log_string=Re,L.runtime_imports.log_hex=Dt;const l=L.runtime_imports;L.memory=new WebAssembly.Memory({initial:10,maximum:10,shared:!0}),M(`allocated memory pool, size: 0x${L.memory.buffer.byteLength.toString(16)}
`);const e=await Ue("wasm/runtime.wasm");L.runtime_instance=new WebAssembly.Instance(e,{env:te({memory:L.memory},l)});const i=await Ue("wasm/interpreter.wasm");L.interpreter=new WebAssembly.Instance(i,{env:te({memory:L.memory},l)}),M(`calling runtime_init
`);const t=L.runtime_instance.exports.runtime_init(),n=L.runtime_instance.exports.malloc_get_dynamic_base();M(`malloc start: ${n.toString(16)}
`),M(`runtime_init finished, result: 0x${t.toString(16)}
`),M(`calling interpreter_init
`);const s=L.interpreter.exports.interpreter_init();M(`interpreter_init finished, result: 0x${s.toString(16)}
`),window.ctx=L}function Le(l,e,i){const t=l.slice();return t[8]=e[i],t}function je(l,e,i){const t=l.slice();return t[11]=e[i],t}function Ae(l){let e,i=l[11].name+"",t,n,s=l[11].value+"",r;return{c(){e=$("div"),t=b(i),n=b(": "),r=b(s),k(e,"class","allocator-info-entry")},m(o,a){v(o,e,a),m(e,t),m(e,n),m(e,r)},p(o,a){a&1&&i!==(i=o[11].name+"")&&T(t,i),a&1&&s!==(s=o[11].value+"")&&T(r,s)},d(o){o&&w(e)}}}function De(l){let e,i,t=l[2][l[1][l[8]].type]+"",n,s,r=parseInt(l[8]).toString(16)+"",o,a,c=l[1][l[8]].size.toString(16)+"",u,_,f=l[1][l[8]].at+"",p;return{c(){e=$("pre"),i=b("["),n=b(t),s=b("]	0x"),o=b(r),a=b("	 - 0x"),u=b(c),_=b("	@ "),p=b(f)},m(g,y){v(g,e,y),m(e,i),m(e,n),m(e,s),m(e,o),m(e,a),m(e,u),m(e,_),m(e,p)},p(g,y){y&2&&t!==(t=g[2][g[1][g[8]].type]+"")&&T(n,t),y&2&&r!==(r=parseInt(g[8]).toString(16)+"")&&T(o,r),y&2&&c!==(c=g[1][g[8]].size.toString(16)+"")&&T(u,c),y&2&&f!==(f=g[1][g[8]].at+"")&&T(p,f)},d(g){g&&w(e)}}}function Mt(l){let e,i=Object.keys(l[1]),t=[];for(let n=0;n<i.length;n+=1)t[n]=De(Le(l,i,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=R()},m(n,s){for(let r=0;r<t.length;r+=1)t[r].m(n,s);v(n,e,s)},p(n,s){if(s&6){i=Object.keys(n[1]);let r;for(r=0;r<i.length;r+=1){const o=Le(n,i,r);t[r]?t[r].p(o,s):(t[r]=De(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=i.length}},d(n){I(t,n),n&&w(e)}}}function Et(l){let e,i,t,n,s=l[0],r=[];for(let o=0;o<s.length;o+=1)r[o]=Ae(je(l,s,o));return t=new x({props:{title:"Allocations",$$slots:{default:[Mt]},$$scope:{ctx:l}}}),{c(){e=$("div");for(let o=0;o<r.length;o+=1)r[o].c();i=j(),U(t.$$.fragment)},m(o,a){v(o,e,a);for(let c=0;c<r.length;c+=1)r[c].m(e,null);m(e,i),S(t,e,null),n=!0},p(o,[a]){if(a&1){s=o[0];let u;for(u=0;u<s.length;u+=1){const _=je(o,s,u);r[u]?r[u].p(_,a):(r[u]=Ae(_),r[u].c(),r[u].m(e,i))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}const c={};a&16386&&(c.$$scope={dirty:a,ctx:o}),t.$set(c)},i(o){n||(d(t.$$.fragment,o),n=!0)},o(o){h(t.$$.fragment,o),n=!1},d(o){o&&w(e),I(r,o),z(t)}}}function It(l,e,i){let t=[{name:"Loading",value:"..."}],n={};const s={pages_max:"Max pages",pages_used:"Pages used",bitmap_base:"Bitmap",size_base:"Size Array",current_index:"Head",dynamic_base:"Dynamic Base",type_base:"Type Base"},r=u=>u.toString(16),o={pages_max:r,pages_used:r,bitmap_base:r,size_base:r,type_base:r,dynamic_base:r,current_index:r},a=["generic","runtime","page table","guest memory"],c=u=>{const _={},f=u.pages_max/8,p=new DataView(E(u.bitmap_base,f)),g=new DataView(E(u.size_base,u.pages_max*4)),y=new DataView(E(u.type_base,u.pages_max));let A=0;for(;A<u.pages_max&&A<256;)if(p.getUint8(Math.floor(A/8))&1<<A%8){const H=u.dynamic_base+A*4096,ee=n.hasOwnProperty(H)?n[H].at:Math.floor(new Date().getTime()/1e3),P=g.getUint32(A*4,!0),Q=y.getUint8(A);_[H]={at:ee,size:P,type:Q},A+=P>0?P:1}else A++;i(1,n=_)};return setInterval(()=>{const u=[],_=Vt();for(let f in _){const p=s[f];u.push({name:p,value:o[f](_[f])})}i(0,t=u),c(_)},500),[t,n,a]}class Ot extends B{constructor(e){super(),V(this,e,It,Et,D,{})}}function Ve(l,e,i){const t=l.slice();return t[1]=e[i],t}function Be(l){let e,i=l[0].registers,t=[];for(let n=0;n<i.length;n+=1)t[n]=Me(Ve(l,i,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=R()},m(n,s){for(let r=0;r<t.length;r+=1)t[r].m(n,s);v(n,e,s)},p(n,s){if(s&1){i=n[0].registers;let r;for(r=0;r<i.length;r+=1){const o=Ve(n,i,r);t[r]?t[r].p(o,s):(t[r]=Me(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=i.length}},d(n){I(t,n),n&&w(e)}}}function Me(l){let e,i=l[1].name+"",t,n,s=l[1].value.toString(16)+"",r;return{c(){e=$("div"),t=b(i),n=b(": "),r=b(s)},m(o,a){v(o,e,a),m(e,t),m(e,n),m(e,r)},p(o,a){a&1&&i!==(i=o[1].name+"")&&T(t,i),a&1&&s!==(s=o[1].value.toString(16)+"")&&T(r,s)},d(o){o&&w(e)}}}function Nt(l){let e,i=l[0]&&Be(l);return{c(){e=$("div"),i&&i.c()},m(t,n){v(t,e,n),i&&i.m(e,null)},p(t,[n]){t[0]?i?i.p(t,n):(i=Be(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:W,o:W,d(t){t&&w(e),i&&i.d()}}}function qt(l,e,i){let{data:t}=e;return l.$$set=n=>{"data"in n&&i(0,t=n.data)},[t]}class Ct extends B{constructor(e){super(),V(this,e,qt,Nt,D,{data:0})}}function Pt(l){let e,i,t,n,s,r;return s=new Ke({props:{content:l[1],defaultTab:l[2]}}),{c(){e=$("div"),i=b("core count: "),t=b(l[0]),n=j(),U(s.$$.fragment)},m(o,a){v(o,e,a),m(e,i),m(e,t),m(e,n),S(s,e,null),r=!0},p(o,[a]){(!r||a&1)&&T(t,o[0]);const c={};a&2&&(c.content=o[1]),a&4&&(c.defaultTab=o[2]),s.$set(c)},i(o){r||(d(s.$$.fragment,o),r=!0)},o(o){h(s.$$.fragment,o),r=!1},d(o){o&&w(e),z(s)}}}function Wt(l,e,i){let t=0,n=[],s="";const r=()=>{const o=ae();if(o.runtime_instance===null)return;const a=o.runtime_instance.exports.emulator_get_context(),c=8,u=new DataView(E(a,c));i(0,t=u.getUint8(0));const _=u.getUint32(4,!0),f=4,p=new DataView(E(_,f*t)),g=["rax","rbx","rcx","rdx","rdi","rsi","rbp","rsp","rip","rflags"],y=[];for(let A=0;A<t;A++){const J=p.getUint32(A*f,!0),H=8+8+8+8+8+8+8+8+8+8,ee=new DataView(E(J,H)),P={registers:[]};for(let Q in g){const Je=g[Q],Qe=ee.getBigUint64(8*Q,!0);P.registers.push({name:Je,value:Qe})}y.push({name:`Core ${A}`,component:Ct,data:P})}i(1,n=y),i(2,s=y[0].name)};return setInterval(r,500),r(),[t,n,s]}class xt extends B{constructor(e){super(),V(this,e,Wt,Pt,D,{})}}function Ee(l,e,i){const t=l.slice();return t[4]=e[i],t}function Ie(l){let e,i=l[2](l[4])+"",t,n,s=l[4].child.toString(16)+"",r,o;return{c(){e=$("div"),t=b(i),n=b(" - "),r=b(s),o=j()},m(a,c){v(a,e,c),m(e,t),m(e,n),m(e,r),m(e,o)},p(a,c){c&2&&i!==(i=a[2](a[4])+"")&&T(t,i),c&2&&s!==(s=a[4].child.toString(16)+"")&&T(r,s)},d(a){a&&w(e)}}}function Ht(l){let e,i=l[1],t=[];for(let n=0;n<i.length;n+=1)t[n]=Ie(Ee(l,i,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=R()},m(n,s){for(let r=0;r<t.length;r+=1)t[r].m(n,s);v(n,e,s)},p(n,s){if(s&6){i=n[1];let r;for(r=0;r<i.length;r+=1){const o=Ee(n,i,r);t[r]?t[r].p(o,s):(t[r]=Ie(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=i.length}},d(n){I(t,n),n&&w(e)}}}function Ft(l){let e,i;return e=new x({props:{title:l[0],$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment)},m(t,n){S(e,t,n),i=!0},p(t,[n]){const s={};n&1&&(s.title=t[0]),n&130&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){i||(d(e.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),i=!1},d(t){z(e,t)}}}function Gt(l,e,i){let{name:t=""}=e,{parents:n=[]}=e,{table:s=[]}=e;const r=o=>{const a=[o.index];let c=0;for(;o.parent!==null&&c<n.length;)o=n[c][o.parent],a.push(o.index),c++;return a.map(u=>u.toString(16)).join(" ")};return l.$$set=o=>{"name"in o&&i(0,t=o.name),"parents"in o&&i(3,n=o.parents),"table"in o&&i(1,s=o.table)},[t,s,r,n]}class le extends B{constructor(e){super(),V(this,e,Gt,Ft,D,{name:0,parents:3,table:1})}}function Oe(l,e,i){const t=l.slice();return t[6]=e[i],t}function Ne(l){let e,i=l[1](l[6]).toString(16)+"",t,n,s=l[6].child.toString(16)+"",r;return{c(){e=$("div"),t=b(i),n=b(" > "),r=b(s)},m(o,a){v(o,e,a),m(e,t),m(e,n),m(e,r)},p(o,a){a&1&&i!==(i=o[1](o[6]).toString(16)+"")&&T(t,i),a&1&&s!==(s=o[6].child.toString(16)+"")&&T(r,s)},d(o){o&&w(e)}}}function Kt(l){let e,i=l[0].p2,t=[];for(let n=0;n<i.length;n+=1)t[n]=Ne(Oe(l,i,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=R()},m(n,s){for(let r=0;r<t.length;r+=1)t[r].m(n,s);v(n,e,s)},p(n,s){if(s&3){i=n[0].p2;let r;for(r=0;r<i.length;r+=1){const o=Oe(n,i,r);t[r]?t[r].p(o,s):(t[r]=Ne(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=i.length}},d(n){I(t,n),n&&w(e)}}}function Rt(l){let e,i,t,n,s,r,o,a,c;return i=new le({props:{name:"Level 0",table:l[0].p0}}),n=new le({props:{name:"Level 1",table:l[0].p1,parents:[l[0].p0]}}),r=new le({props:{name:"Level 2",table:l[0].p2,parents:[l[0].p1,l[0].p0]}}),a=new x({props:{title:"Address Space",$$slots:{default:[Kt]},$$scope:{ctx:l}}}),{c(){e=$("div"),U(i.$$.fragment),t=j(),U(n.$$.fragment),s=j(),U(r.$$.fragment),o=j(),U(a.$$.fragment)},m(u,_){v(u,e,_),S(i,e,null),m(e,t),S(n,e,null),m(e,s),S(r,e,null),m(e,o),S(a,e,null),c=!0},p(u,[_]){const f={};_&1&&(f.table=u[0].p0),i.$set(f);const p={};_&1&&(p.table=u[0].p1),_&1&&(p.parents=[u[0].p0]),n.$set(p);const g={};_&1&&(g.table=u[0].p2),_&1&&(g.parents=[u[0].p1,u[0].p0]),r.$set(g);const y={};_&513&&(y.$$scope={dirty:_,ctx:u}),a.$set(y)},i(u){c||(d(i.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(a.$$.fragment,u),c=!0)},o(u){h(i.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&w(e),z(i),z(n),z(r),z(a)}}}const qe=4;function Jt(l,e,i){let t={p0:[],p1:[],p2:[]},n;const s=["p0","p1","p2"],r=(c,u,_,f=null)=>{const p=new DataView(E(c,u*qe));for(let g=0;g<u;g++){const y=p.getUint32(g*qe,!0);if(y===0)continue;const A={index:g,child:y,parent:f},J=n[s[_]].push(A)-1;_<2&&r(y,512,_+1,J)}},o=ae();return setInterval(()=>{n={p0:[],p1:[],p2:[]},r(o.runtime_instance.exports.guest_memory_get_p0(),4,0),i(0,t=n)},500),[t,c=>{const u=c.index,_=t.p1[c.parent],f=_.index;return(t.p0[_.parent].index<<30)+(f<<21)+(u<<12)>>>0}]}class Qt extends B{constructor(e){super(),V(this,e,Jt,Rt,D,{})}}function Xt(l){let e,i;return e=new Ke({props:{content:l[0],defaultTab:"CPU"}}),{c(){U(e.$$.fragment)},m(t,n){S(e,t,n),i=!0},p:W,i(t){i||(d(e.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),i=!1},d(t){z(e,t)}}}function Yt(l){let e,i;return e=new x({props:{title:"Debugger",$$slots:{default:[Xt]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment)},m(t,n){S(e,t,n),i=!0},p(t,[n]){const s={};n&2&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){i||(d(e.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),i=!1},d(t){z(e,t)}}}function Zt(l){return[[{name:"Allocator",component:Ot},{name:"Guest Memory",component:Qt},{name:"CPU",component:xt}]]}class en extends B{constructor(e){super(),V(this,e,Zt,Yt,D,{})}}function tn(l){let e;return{c(){e=$("div"),k(e,"class","markdown")},m(i,t){v(i,e,t),e.innerHTML=zt},p:W,d(i){i&&w(e)}}}function nn(l){let e,i,t,n,s,r,o,a,c,u,_;return i=new St({props:{items:l[0]}}),s=new x({props:{title:"README",$$slots:{default:[tn]},$$scope:{ctx:l}}}),o=new $t({}),u=new en({}),{c(){e=$("div"),U(i.$$.fragment),t=j(),n=$("div"),U(s.$$.fragment),r=j(),U(o.$$.fragment),a=j(),c=$("div"),U(u.$$.fragment),k(c,"class","instructions-container svelte-1p7s32z"),k(n,"class","content svelte-1p7s32z"),k(e,"class","container svelte-1p7s32z")},m(f,p){v(f,e,p),S(i,e,null),m(e,t),m(e,n),S(s,n,null),m(n,r),S(o,n,null),m(n,a),m(n,c),S(u,c,null),_=!0},p(f,[p]){const g={};p&2&&(g.$$scope={dirty:p,ctx:f}),s.$set(g)},i(f){_||(d(i.$$.fragment,f),d(s.$$.fragment,f),d(o.$$.fragment,f),d(u.$$.fragment,f),_=!0)},o(f){h(i.$$.fragment,f),h(s.$$.fragment,f),h(o.$$.fragment,f),h(u.$$.fragment,f),_=!1},d(f){f&&w(e),z(i),z(s),z(o),z(u)}}}function ln(l){return[[{name:"Hello",children:[{name:"World",children:[{name:"Test",children:[{name:"Test 2"},{name:"Test 3"}]}]}]},{name:"World"}]]}class rn extends B{constructor(e){super(),V(this,e,ln,nn,D,{})}}const Ce=async(l,e)=>{M(`${e}...
`),await l,M(`${e} done
`)},sn=async()=>{new rn({target:document.body})},on=async()=>{await Ce(sn(),"initializing frontend"),await Ce(Bt(),"initializing runtime & backend");const l=ae();l.runtime_instance.exports.__imp_malloc,l.runtime_instance.exports.__imp_free,console.log(l.runtime_instance.exports)};window.addEventListener("load",on);
