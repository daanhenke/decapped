var ye=Object.defineProperty;var ee=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var te=(t,e,l)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,ne=(t,e)=>{for(var l in e||(e={}))ke.call(e,l)&&te(t,l,e[l]);if(ee)for(var l of ee(e))xe.call(e,l)&&te(t,l,e[l]);return t};const Le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function l(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=l(n);fetch(n.href,r)}};Le();function Y(){}function je(t,e){for(const l in e)t[l]=e[l];return t}function pe(t){return t()}function le(){return Object.create(null)}function M(t){t.forEach(pe)}function Ae(t){return typeof t=="function"}function N(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ee(t){return Object.keys(t).length===0}function Se(t,e,l,i){if(t){const n=be(t,e,l,i);return t[0](n)}}function be(t,e,l,i){return t[1]&&i?je(l.ctx.slice(),t[1](i(e))):l.ctx}function qe(t,e,l,i){if(t[2]&&i){const n=t[2](i(l));if(e.dirty===void 0)return n;if(typeof n=="object"){const r=[],o=Math.max(e.dirty.length,n.length);for(let s=0;s<o;s+=1)r[s]=e.dirty[s]|n[s];return r}return e.dirty|n}return e.dirty}function ze(t,e,l,i,n,r){if(n){const o=be(e,l,i,r);t.p(o,n)}}function Oe(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let i=0;i<l;i++)e[i]=-1;return e}return-1}function _(t,e){t.appendChild(e)}function y(t,e,l){t.insertBefore(e,l||null)}function $(t){t.parentNode.removeChild(t)}function H(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function x(){return z(" ")}function Te(t,e,l,i){return t.addEventListener(e,l,i),()=>t.removeEventListener(e,l,i)}function v(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function We(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let Z;function I(t){Z=t}const C=[],G=[],V=[],ie=[],Be=Promise.resolve();let J=!1;function Ce(){J||(J=!0,Be.then(ve))}function Q(t){V.push(t)}const R=new Set;let U=0;function ve(){const t=Z;do{for(;U<C.length;){const e=C[U];U++,I(e),Ie(e.$$)}for(I(null),C.length=0,U=0;G.length;)G.pop()();for(let e=0;e<V.length;e+=1){const l=V[e];R.has(l)||(R.add(l),l())}V.length=0}while(C.length);for(;ie.length;)ie.pop()();J=!1,R.clear(),I(t)}function Ie(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}const F=new Set;let S;function W(){S={r:0,c:[],p:S}}function B(){S.r||M(S.c),S=S.p}function f(t,e){t&&t.i&&(F.delete(t),t.i(e))}function h(t,e,l,i){if(t&&t.o){if(F.has(t))return;F.add(t),S.c.push(()=>{F.delete(t),i&&(l&&t.d(1),i())}),t.o(e)}}function q(t){t&&t.c()}function j(t,e,l,i){const{fragment:n,on_mount:r,on_destroy:o,after_update:s}=t.$$;n&&n.m(e,l),i||Q(()=>{const c=r.map(pe).filter(Ae);o?o.push(...c):M(c),t.$$.on_mount=[]}),s.forEach(Q)}function A(t,e){const l=t.$$;l.fragment!==null&&(M(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Me(t,e){t.$$.dirty[0]===-1&&(C.push(t),Ce(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(t,e,l,i,n,r,o,s=[-1]){const c=Z;I(t);const u=t.$$={fragment:null,ctx:null,props:r,update:Y,not_equal:n,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:le(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let d=!1;if(u.ctx=l?l(t,e.props||{},(g,a,...b)=>{const k=b.length?b[0]:a;return u.ctx&&n(u.ctx[g],u.ctx[g]=k)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](k),d&&Me(t,g)),a}):[],u.update(),d=!0,M(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const g=We(e.target);u.fragment&&u.fragment.l(g),g.forEach($)}else u.fragment&&u.fragment.c();e.intro&&f(t.$$.fragment),j(t,e.target,e.anchor,e.customElement),ve()}I(c)}class P{$destroy(){A(this,1),this.$destroy=Y}$on(e,l){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(l),()=>{const n=i.indexOf(l);n!==-1&&i.splice(n,1)}}$set(e){this.$$set&&!Ee(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function re(t){let e,l;const i=t[5].default,n=Se(i,t,t[4],null);return{c(){e=p("div"),n&&n.c(),v(e,"class","window-content svelte-1qojbbx")},m(r,o){y(r,e,o),n&&n.m(e,null),l=!0},p(r,o){n&&n.p&&(!l||o&16)&&ze(n,i,r,r[4],l?qe(i,r[4],o,null):Oe(r[4]),null)},i(r){l||(f(n,r),l=!0)},o(r){h(n,r),l=!1},d(r){r&&$(e),n&&n.d(r)}}}function Ne(t){let e,l,i,n,r,o,s,c,u,d,g,a,b,k,m=!t[2]&&re(t);return{c(){e=p("div"),l=p("div"),i=p("div"),n=z(t[0]),r=x(),o=p("div"),s=p("span"),s.textContent="-",c=x(),u=p("span"),u.textContent="x",d=x(),m&&m.c(),v(o,"class","window-icons svelte-1qojbbx"),v(l,"class","window-titlebar svelte-1qojbbx"),v(e,"class",g="window "+(t[1]?"window-grow":"")+" svelte-1qojbbx")},m(w,O){y(w,e,O),_(e,l),_(l,i),_(i,n),_(l,r),_(l,o),_(o,s),_(o,c),_(o,u),_(e,d),m&&m.m(e,null),a=!0,b||(k=Te(s,"click",t[3]),b=!0)},p(w,[O]){(!a||O&1)&&K(n,w[0]),w[2]?m&&(W(),h(m,1,1,()=>{m=null}),B()):m?(m.p(w,O),O&4&&f(m,1)):(m=re(w),m.c(),f(m,1),m.m(e,null)),(!a||O&2&&g!==(g="window "+(w[1]?"window-grow":"")+" svelte-1qojbbx"))&&v(e,"class",g)},i(w){a||(f(m),a=!0)},o(w){h(m),a=!1},d(w){w&&$(e),m&&m.d(),b=!1,k()}}}function De(t,e,l){let{$$slots:i={},$$scope:n}=e,{title:r=""}=e,{grow:o=!1}=e,s=!1;const c=()=>{l(2,s=!s)};return t.$$set=u=>{"title"in u&&l(0,r=u.title),"grow"in u&&l(1,o=u.grow),"$$scope"in u&&l(4,n=u.$$scope)},[r,o,s,c,n,i]}class X extends P{constructor(e){super(),D(this,e,De,Ne,N,{title:0,grow:1})}}const E={messages:[""],callbacks:[]};function T(t){const e=t.split(`
`);for(let l in e){const i=e[l];E.messages[E.messages.length-1]+=i,l<e.length-1&&E.messages.push("")}for(let l of E.callbacks)l(E)}function Pe(){return E}function Ue(t){E.callbacks.push(t)}function oe(t,e,l){const i=t.slice();return i[4]=e[l],i}function se(t){let e,l=t[4]+"",i,n;return{c(){e=p("div"),i=z(l),n=x(),v(e,"class","log-message svelte-1f4e2ec")},m(r,o){y(r,e,o),_(e,i),_(e,n)},p(r,o){o&1&&l!==(l=r[4]+"")&&K(i,l)},d(r){r&&$(e)}}}function Ve(t){let e,l=t[0],i=[];for(let n=0;n<l.length;n+=1)i[n]=se(oe(t,l,n));return{c(){e=p("div");for(let n=0;n<i.length;n+=1)i[n].c();v(e,"class","log-container svelte-1f4e2ec")},m(n,r){y(n,e,r);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t[2](e)},p(n,r){if(r&1){l=n[0];let o;for(o=0;o<l.length;o+=1){const s=oe(n,l,o);i[o]?i[o].p(s,r):(i[o]=se(s),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(n){n&&$(e),H(i,n),t[2](null)}}}function Fe(t){let e,l;return e=new X({props:{grow:!0,title:"Internal Logs",$$slots:{default:[Ve]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(i,n){j(e,i,n),l=!0},p(i,[n]){const r={};n&131&&(r.$$scope={dirty:n,ctx:i}),e.$set(r)},i(i){l||(f(e.$$.fragment,i),l=!0)},o(i){h(e.$$.fragment,i),l=!1},d(i){A(e,i)}}}function He(t,e,l){let i=[""],n=null;const r=s=>{l(0,i=s.messages)};r(Pe()),Ue(r);function o(s){G[s?"unshift":"push"](()=>{n=s,l(1,n)})}return[i,n,o]}class Ke extends P{constructor(e){super(),D(this,e,He,Fe,N,{})}}function ce(t,e,l){const i=t.slice();return i[2]=e[l],i}function ue(t){let e,l,i,n=t[1],r=[];for(let s=0;s<n.length;s+=1)r[s]=ae(ce(t,n,s));const o=s=>h(r[s],1,1,()=>{r[s]=null});return{c(){e=z(`>\r
        `),l=p("div");for(let s=0;s<r.length;s+=1)r[s].c();v(l,"class","topbar-subitem-children svelte-13m7anm")},m(s,c){y(s,e,c),y(s,l,c);for(let u=0;u<r.length;u+=1)r[u].m(l,null);i=!0},p(s,c){if(c&2){n=s[1];let u;for(u=0;u<n.length;u+=1){const d=ce(s,n,u);r[u]?(r[u].p(d,c),f(r[u],1)):(r[u]=ae(d),r[u].c(),f(r[u],1),r[u].m(l,null))}for(W(),u=n.length;u<r.length;u+=1)o(u);B()}},i(s){if(!i){for(let c=0;c<n.length;c+=1)f(r[c]);i=!0}},o(s){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)h(r[c]);i=!1},d(s){s&&$(e),s&&$(l),H(r,s)}}}function ae(t){let e,l;return e=new we({props:{name:t[2].name,children:t[2].children}}),{c(){q(e.$$.fragment)},m(i,n){j(e,i,n),l=!0},p(i,n){const r={};n&2&&(r.name=i[2].name),n&2&&(r.children=i[2].children),e.$set(r)},i(i){l||(f(e.$$.fragment,i),l=!0)},o(i){h(e.$$.fragment,i),l=!1},d(i){A(e,i)}}}function Re(t){let e,l,i,n,r=t[1].length&&ue(t);return{c(){e=p("div"),l=z(t[0]),i=x(),r&&r.c(),v(e,"class","topbar-subitem svelte-13m7anm")},m(o,s){y(o,e,s),_(e,l),_(e,i),r&&r.m(e,null),n=!0},p(o,[s]){(!n||s&1)&&K(l,o[0]),o[1].length?r?(r.p(o,s),s&2&&f(r,1)):(r=ue(o),r.c(),f(r,1),r.m(e,null)):r&&(W(),h(r,1,1,()=>{r=null}),B())},i(o){n||(f(r),n=!0)},o(o){h(r),n=!1},d(o){o&&$(e),r&&r.d()}}}function Ge(t,e,l){let{name:i=""}=e,{children:n=[]}=e;return t.$$set=r=>{"name"in r&&l(0,i=r.name),"children"in r&&l(1,n=r.children)},[i,n]}class we extends P{constructor(e){super(),D(this,e,Ge,Re,N,{name:0,children:1})}}function fe(t,e,l){const i=t.slice();return i[1]=e[l],i}function me(t,e,l){const i=t.slice();return i[4]=e[l],i}function de(t){let e,l,i=t[1].children,n=[];for(let o=0;o<i.length;o+=1)n[o]=_e(me(t,i,o));const r=o=>h(n[o],1,1,()=>{n[o]=null});return{c(){e=p("div");for(let o=0;o<n.length;o+=1)n[o].c();v(e,"class","topbar-item-children svelte-kh5whn")},m(o,s){y(o,e,s);for(let c=0;c<n.length;c+=1)n[c].m(e,null);l=!0},p(o,s){if(s&1){i=o[1].children;let c;for(c=0;c<i.length;c+=1){const u=me(o,i,c);n[c]?(n[c].p(u,s),f(n[c],1)):(n[c]=_e(u),n[c].c(),f(n[c],1),n[c].m(e,null))}for(W(),c=i.length;c<n.length;c+=1)r(c);B()}},i(o){if(!l){for(let s=0;s<i.length;s+=1)f(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)h(n[s]);l=!1},d(o){o&&$(e),H(n,o)}}}function _e(t){let e,l;return e=new we({props:{name:t[4].name,children:t[4].children}}),{c(){q(e.$$.fragment)},m(i,n){j(e,i,n),l=!0},p(i,n){const r={};n&1&&(r.name=i[4].name),n&1&&(r.children=i[4].children),e.$set(r)},i(i){l||(f(e.$$.fragment,i),l=!0)},o(i){h(e.$$.fragment,i),l=!1},d(i){A(e,i)}}}function ge(t){let e,l,i=t[1].name+"",n,r,o,s,c=t[1].children&&de(t);return{c(){e=p("div"),l=p("div"),n=z(i),r=x(),c&&c.c(),o=x(),v(l,"class","topbar-item-name svelte-kh5whn"),v(e,"class","topbar-item svelte-kh5whn")},m(u,d){y(u,e,d),_(e,l),_(l,n),_(e,r),c&&c.m(e,null),_(e,o),s=!0},p(u,d){(!s||d&1)&&i!==(i=u[1].name+"")&&K(n,i),u[1].children?c?(c.p(u,d),d&1&&f(c,1)):(c=de(u),c.c(),f(c,1),c.m(e,o)):c&&(W(),h(c,1,1,()=>{c=null}),B())},i(u){s||(f(c),s=!0)},o(u){h(c),s=!1},d(u){u&&$(e),c&&c.d()}}}function Je(t){let e,l,i=t[0],n=[];for(let o=0;o<i.length;o+=1)n[o]=ge(fe(t,i,o));const r=o=>h(n[o],1,1,()=>{n[o]=null});return{c(){e=p("div");for(let o=0;o<n.length;o+=1)n[o].c();v(e,"class","topbar svelte-kh5whn")},m(o,s){y(o,e,s);for(let c=0;c<n.length;c+=1)n[c].m(e,null);l=!0},p(o,[s]){if(s&1){i=o[0];let c;for(c=0;c<i.length;c+=1){const u=fe(o,i,c);n[c]?(n[c].p(u,s),f(n[c],1)):(n[c]=ge(u),n[c].c(),f(n[c],1),n[c].m(e,null))}for(W(),c=i.length;c<n.length;c+=1)r(c);B()}},i(o){if(!l){for(let s=0;s<i.length;s+=1)f(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)h(n[s]);l=!1},d(o){o&&$(e),H(n,o)}}}function Qe(t,e,l){let{items:i=[]}=e;return t.$$set=n=>{"items"in n&&l(0,i=n.items)},[i]}class Xe extends P{constructor(e){super(),D(this,e,Qe,Je,N,{items:0})}}const Ye=`<h1>What is decapped?</h1>
<p>Decapped is an x86 emulator capable of emulating a small part of real mode (the old 16 bit instruction set).<br>
It's still early in development but can already run a couple of instructions.</p>
<p>Our current target is getting FreeDOS to boot!</p>
`;function Ze(t){let e;return{c(){e=p("div"),v(e,"class","markdown")},m(l,i){y(l,e,i),e.innerHTML=Ye},p:Y,d(l){l&&$(e)}}}function et(t){let e;return{c(){e=z("0x0011223344556677: mov rax, rcx")},m(l,i){y(l,e,i)},d(l){l&&$(e)}}}function tt(t){let e,l,i,n,r,o,s,c,u,d,g;return l=new Xe({props:{items:t[0]}}),r=new X({props:{title:"README",$$slots:{default:[Ze]},$$scope:{ctx:t}}}),s=new Ke({}),d=new X({props:{grow:!0,title:"Instructions",$$slots:{default:[et]},$$scope:{ctx:t}}}),{c(){e=p("div"),q(l.$$.fragment),i=x(),n=p("div"),q(r.$$.fragment),o=x(),q(s.$$.fragment),c=x(),u=p("div"),q(d.$$.fragment),v(u,"class","instructions-container svelte-1qecvj7"),v(n,"class","content svelte-1qecvj7"),v(e,"class","container svelte-1qecvj7")},m(a,b){y(a,e,b),j(l,e,null),_(e,i),_(e,n),j(r,n,null),_(n,o),j(s,n,null),_(n,c),_(n,u),j(d,u,null),g=!0},p(a,[b]){const k={};b&2&&(k.$$scope={dirty:b,ctx:a}),r.$set(k);const m={};b&2&&(m.$$scope={dirty:b,ctx:a}),d.$set(m)},i(a){g||(f(l.$$.fragment,a),f(r.$$.fragment,a),f(s.$$.fragment,a),f(d.$$.fragment,a),g=!0)},o(a){h(l.$$.fragment,a),h(r.$$.fragment,a),h(s.$$.fragment,a),h(d.$$.fragment,a),g=!1},d(a){a&&$(e),A(l),A(r),A(s),A(d)}}}function nt(t){return[[{name:"Hello",children:[{name:"World",children:[{name:"Test",children:[{name:"Test 2"},{name:"Test 3"}]}]}]},{name:"World"}]]}class lt extends P{constructor(e){super(),D(this,e,nt,tt,N,{})}}const L={memory:null,runtime_imports:{},runtime_instance:null};async function it(t){const e=await fetch(t),l=rt(await e.arrayBuffer(),1,2);return await WebAssembly.compile(l)}function rt(t,e=1,l=1){const i=(g,a)=>{let b=0,k=0,m=0;for(;;){console.log("it",m,k,b,a);const w=g.getUint8(a+m);if(b|=(w&127)<<k,(w&47513075712)===0)break;k+=7,m++}return b},n=t.slice(0,t.byteLength),r=new DataView(n);if(r.getUint32(0)!==6386541)return n;const s=4+4,c=i(r,s+1);console.log(c);const u=s+c+2,d=i(r,u+2);return console.log(d),n}function $e(t,e=8){return L.memory.buffer.slice(t,t+e)}function ot(t){let e="",l=0,i=!1;for(;!i;){const n=new Uint8Array($e(t+l));l+=n.byteLength;for(let r=0;r<n.byteLength;r++){if(n[r]===0){i=!0;break}e+=String.fromCharCode(n[r])}}return e}function st(t){T(`runtime: ${ot(t)}`)}async function ct(){const t=await it("/wasm/runtime.wasm");console.log(t),L.runtime_imports.log_string=st;const e=L.runtime_imports;L.memory=new WebAssembly.Memory({initial:10,maximum:10,shared:!0}),T(`allocated memory pool, size: 0x${L.memory.buffer.byteLength.toString(16)}
`),L.runtime_instance=new WebAssembly.Instance(t,{env:ne({memory:L.memory},e)}),T(`calling runtime_init
`);const l=L.runtime_instance.exports.runtime_init(),i=L.runtime_instance.exports.malloc_get_dynamic_base();console.log($e(i,4)),T(`runtime_init finished, result: 0x${l.toString(16)}
`)}const he=async(t,e)=>{T(`${e}...
`),await t,T(`${e} done
`)},ut=async()=>{new lt({target:document.body})},at=async()=>{await he(ut(),"initializing frontend"),await he(ct(),"initializing runtime")};window.addEventListener("load",at);
